#overview
health4j是一个集中式的Java 项目代码静态分析整合工具。目前该工具内置了对三大主流静态分析工具的整合，它们分别是 `pwd`,`checkstyle`,`findBugs`. 它们三者对于代码的静态分析，侧重点各不相同，具体请看：






> checkstyle 最主要的关注点在于代码的规范性，对于代码缺陷的探测能力并不是它的优势

当然health4j除了收集并整合了这三大主流分析工具，还提供了合并、产生报告、邮件推送等功能。

##design
代码结构设计图：


工作示意图：



###checker
称之为**健康检查器** 它有三个部件组成：EnvVerifier(配置验证器)、CommandInvoker(命令执行器)、ReportExtractor(报告提取器)。每个静态分析工具都应对与一个特定的检查器的实现，并采用`Tool`注解标注。这样在运行时扫描`Tool`注解并根据配置文件的配置，来实例化特定的工具运行。

###reportMerger
称之为“报告聚合器”，因为每种分析工具都会生成自己特定格式的报告文件。聚合器此处会对各个工具的分析报告进行抽象、提取、规约，使其满足一种标准格式，来方便产生一份聚合的报表。

###reportNotifier
称之为“报表通知器”，为满足自动化的需求，这种健康检查很可能会被做成一个定时任务，或者是一个钩子的触发调用。总之，它的运行方式通常是异步的、不确定的。因此当它执行完成后，给出执行结果的通知是更人性化的。


##integration
你可以将其构建为linux命令（见release文件夹内的reademe），在源码仓库所宿主的服务器上，以如下三种方式使用：

* 定时任务 （cron）
* svn hook (checkstyle,pmd可以指定检查文件，而不一定是项目，hook可提供文件路径)
* 持续集成是构建成maven/ant task

##purpose
首先，不得不承认，这些工具几乎都有常用IDE的插件。另外，在IDE中使用这些方式，会具有更好的诊断效率以及使用体验。但命令行的使用方式，使得其对编程更为友好。因此，你可以将其该检查视为一种 ***行政手段***
。因为每个人的代码风格都有很大的差别，所以需要一个标准来进行约束。别说普通公司，即便Google的工程式都必须遵循某一个checkstyle的规则集合。https://code.google.com/p/google-api-java-client/source/browse/checkstyle.xml?repo=samples (需翻墙)



